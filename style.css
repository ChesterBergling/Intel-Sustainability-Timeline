body { margin: 0; font-family: Arial, sans-serif; background: #fff; color: #222; }
header { background: #0071C5; color: #fff; padding: 1rem 2rem; text-align: center; }
.header-title { margin: 0; font-size: 2rem; font-weight: bold; text-align: center; }
nav { margin-top: 0.5rem; }
nav a { color: #fff; margin: 0 1rem; text-decoration: none; font-weight: 500; transition: color 0.2s; }
nav a:hover, nav a:focus { text-decoration: underline; color: #4CAF50; }
.hero { background: linear-gradient(135deg, #0071C5 50%, #4CAF50 50%); color: #FFFFFF; text-align: center; padding: 4rem 2rem; }
.content { display: flex; flex-wrap: wrap; justify-content: center; gap: 2rem; padding: 3rem 2rem; background-color: #E0E0E0; }
.show-card-btn { display: inline-block; background-color: #0071C5; color: #fff; padding: 0.75rem 1.5rem; border-radius: 8px; font-weight: bold; cursor: pointer; margin: 0.5rem 1rem; font-size: 1.1rem; text-align: center; text-decoration: none; border: none; transition: background 0.2s, text-decoration 0.2s; }
.show-card-btn:hover, .show-card-btn:focus, .show-card-btn.active-link { background-color: #004e91; text-decoration: underline; }

/* Timeline Section */
.timeline-section { padding: 3rem 2rem; background: #F5F5F5; width: 100%; position: relative; min-height: 90vh; overflow: visible; }
.timeline-title { color: #0071C5; font-size: 2rem; margin-bottom: 2rem; text-align: center; margin-left: auto; margin-right: auto; display: block; }

/* Horizontal Timeline */
.timeline-horizontal {
  display: flex; /* Default display for desktop */
  flex-direction: row;
  align-items: center; /* Ensure alignment of plot points with the timeline bar */
  justify-content: flex-start;
  position: relative;
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  padding-bottom: 100px;
  min-height: 290px;
  box-sizing: content-box;
  gap: 0;
  overflow-x: visible;
}

@media (max-width: 1300px) {
  .timeline-horizontal {
    display: none; /* Hide horizontal timeline on non-desktop devices */
  }
}

.timeline-bar {
  display: block;
  position: absolute;
  top: calc(40% - 300px); /* Timeline moved up by 300px */
  left: 70px;
  width: calc(100% - 140px);
  height: 4px;
  background: linear-gradient(90deg, #0071C5, #4CAF50);
  border-radius: 2px;
  z-index: 0;
  transform: translateY(-50%);
}

.timeline-event-horizontal {
  position: absolute;
  display: flex;
  flex-direction: column;
  align-items: center;
  min-height: 310px; /* Increase height to accommodate more spacing */
  z-index: 2;
  outline: none;
  background: none;
  width: 120px;
  max-width: 120px;
  text-align: center;
}

.timeline-event-horizontal[data-index="0"] { left: 70px; }
.timeline-event-horizontal[data-index="1"] { left: 220px; } /* Increased spacing */
.timeline-event-horizontal[data-index="2"] { left: 370px; } /* Increased spacing */
.timeline-event-horizontal[data-index="3"] { left: 520px; } /* Increased spacing */
.timeline-event-horizontal[data-index="4"] { left: 670px; } /* Increased spacing */
.timeline-event-horizontal[data-index="5"] { left: 820px; } /* Increased spacing */
.timeline-event-horizontal[data-index="6"] { left: 970px; } /* Increased spacing */

.timeline-dot-horizontal {
  position: absolute;
  top: calc(40% - 300px); /* Align dots with the moved timeline bar */
  left: 50%;
  transform: translate(-50%, 50%); /* Adjust vertical alignment */
  width: 18px;
  height: 18px;
  background: #4CAF50;
  border: 3px solid #0071C5;
  border-radius: 50%;
  z-index: 2;
  cursor: pointer;
  box-sizing: border-box;
  transition: border 0.2s, background 0.2s;
}

.timeline-event-horizontal.active .timeline-dot-horizontal {
  border-color: #4CAF50;
  background: #0071C5;
}

.timeline-date-horizontal {
  position: absolute;
  top: 30px;
  left: 50%;
  transform: translateX(-50%);
  font-weight: bold;
  color: #0071C5;
  background: rgba(255, 255, 255, 0.85);
  padding: 2px 8px;
  border-radius: 8px;
  font-size: 1rem;
  z-index: 3;
  min-width: 48px;
  text-align: center;
  pointer-events: none;
}

/* Vertical Timeline */
.timeline-vertical {
  display: none; /* Default: hidden on desktop */
  flex-direction: column;
  position: relative;
  width: 100%;
  max-width: 100%;
  margin: 0 auto;
  padding-bottom: 0;
  justify-content: center;
  align-items: center;
}

@media (max-width: 1300px) {
  .timeline-vertical {
    display: flex; /* Show vertical timeline on non-desktop devices */
  }
}

.timeline-vertical::before {
  content: "";
  position: absolute;
  left: 40px;
  top: 0;
  bottom: 0;
  width: 4px;
  background: linear-gradient(180deg, #0071C5, #4CAF50);
  border-radius: 2px;
}

.timeline-event-vertical {
  display: flex;
  flex-direction: row;
  align-items: flex-start;
  position: relative;
  width: 100%;
  background: none;
  margin-bottom: 3rem; /* Ensure consistent spacing between vertical events */
  cursor: pointer;
}

.timeline-dot-vertical {
  width: 24px;
  height: 24px;
  background: #4CAF50;
  border: 3px solid #0071C5;
  border-radius: 50%;
  margin-top: 0.8rem; /* Add 20px more spacing above the dots */
  margin-left: 30px;
  margin-right: 14px;
  box-sizing: border-box;
  transition: border 0.2s, background 0.2s;
}

.timeline-event-vertical.active .timeline-dot-vertical {
  border-color: #4CAF50;
  background: #0071C5;
}

.timeline-date-vertical {
  font-weight: bold;
  color: #0071C5;
  font-size: 1.2rem;
  margin-bottom: 8px;
  margin-top: 0.5rem;
  transition: color 0.2s;
}

/* Cards */
.timeline-card {
  display: none; /* Initially hidden */
  opacity: 0;
  visibility: hidden;
  position: absolute;
  background: #F5F5F5;
  border-radius: 16px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.13);
  width: 320px;
  min-width: 220px;
  max-width: 320px;
  min-height: 180px;
  max-height: 360px;
  padding: 1rem;
  z-index: 999; /* Ensure cards are above other elements */
  text-align: left;
  transition: opacity 0.3s ease, visibility 0.3s ease, transform 0.3s ease;
  margin-top: 0; /* Remove internal spacing */
}

.timeline-card.active {
  display: flex; /* Make the card visible */
  opacity: 1;
  visibility: visible;
  margin-top: 20px; /* Add spacing to avoid overlap */
}

/* Mobile-specific styles */
@media (max-width: 767px) {
  .timeline-card {
    top: 140%; /* Increase spacing below the timeline */
    left: 60%; /* Adjust cards to be 50% to the left */
    transform: translateX(-50%);
  }
}

/* Desktop-specific styles */
@media (min-width: 768px) {
  .timeline-card {
    top: 40px; /* Increase spacing above the timeline to avoid overlap */
    left: 150px; /* Position the card to the right of the timeline */
    transform: none;
  }
}

/* Removed redundant media queries */
@media (max-width: 1200px) {
  .timeline-section {
    padding: 2rem 1rem;
  }
  .timeline-card {
    width: 85vw;
    max-width: 85vw;
    min-width: 320px;
    min-height: 190px;
    padding: 1.4rem;
    font-size: 1.11em;
  }
  .timeline-card img {
    width: 150px;
    height: 150px;
  }
  .card-text {
    font-size: 1.13em;
  }
}
@media (min-width: 768px) and (max-width: 1200px) {
  .timeline-section,
  .timeline-vertical {
    width: 100% !important;
    max-width: 100% !important;
  }
  .timeline-vertical {
    max-height: 140vh !important;
    height: 140vh !important;
    overflow-y: auto !important;
    padding-right: 28px !important;
    scrollbar-width: auto !important;
    scrollbar-color: #0071C5 #F5F5F5 !important;
  }
  .timeline-section { padding: 2rem 1rem; }
  .timeline-card {
    width: 85vw !important;
    max-width: 85vw !important;
    min-width: 320px !important;
    min-height: 190px !important;
    padding: 1.4rem 1.4rem !important;
    font-size: 1.11em !important;
  }
  .timeline-card img,
  .timeline-card img.long-img {
    width: 150px !important;
    height: 150px !important;
    max-width: 150px !important;
    max-height: 150px !important;
  }
  .card-text { font-size: 1.13em !important; }
}
@media (min-width: 1200px) and (max-width: 1300px) and (max-height: 700px) {
  .timeline-horizontal {
    display: flex !important;
    flex-direction: row;
    align-items: flex-start;
    justify-content: flex-start;
    position: relative;
    width: 100%;
    max-width: 1200px;
    margin: 0 auto;
    padding-bottom: 100px;
    min-height: 290px;
    box-sizing: content-box;
    gap: 0;
    overflow-x: visible;
  }
  .timeline-bar {
    display: block !important;
    position: absolute;
    top: 50%; /* Center the bar vertically relative to the timeline */
    left: 70px;
    width: calc(100% - 140px);
    height: 4px;
    background: linear-gradient(90deg, #0071C5, #4CAF50);
    border-radius: 2px;
    z-index: 0;
    transform: translateY(-50%);
  }
  .timeline-event-horizontal {
    position: absolute;
    display: flex;
    flex-direction: column;
    align-items: center;
    min-height: 310px; /* Increase height to accommodate more spacing */
    z-index: 2;
    outline: none;
    background: none;
    width: 120px;
    max-width: 120px;
    text-align: center;
  }
  .timeline-event-horizontal[data-index="0"] { left: 70px; }
  .timeline-event-horizontal[data-index="1"] { left: 220px; } /* Increased spacing */
  .timeline-event-horizontal[data-index="2"] { left: 370px; } /* Increased spacing */
  .timeline-event-horizontal[data-index="3"] { left: 520px; } /* Increased spacing */
  .timeline-event-horizontal[data-index="4"] { left: 670px; } /* Increased spacing */
  .timeline-event-horizontal[data-index="5"] { left: 820px; } /* Increased spacing */
  .timeline-event-horizontal[data-index="6"] { left: 970px; } /* Increased spacing */
  .timeline-dot-horizontal {
    position: absolute;
    top: 50%; /* Align dots with the center of the timeline bar */
    left: 50%;
    transform: translate(-50%, 100%); /* Adjusted vertical alignment to 70% */
    width: 18px;
    height: 18px;
    background: #4CAF50;
    border: 3px solid #0071C5;
    border-radius: 50%;
    z-index: 2;
    cursor: pointer;
    box-sizing: border-box;
    transition: border 0.2s, background 0.2s;
  }
  .timeline-event-horizontal.active .timeline-dot-horizontal {
    border-color: #4CAF50;
    background: #0071C5;
  }
  .timeline-date-horizontal {
    position: absolute;
    top: 30px;
    left: 50%;
    transform: translateX(-50%);
    font-weight: bold;
    color: #0071C5;
    background: rgba(255,255,255,0.85);
    padding: 2px 8px;
    border-radius: 8px;
    font-size: 1rem;
    z-index: 3;
    min-width: 48px;
    text-align: center;
    pointer-events: none;
  }
  .timeline-card {
    display: none !important;
    opacity: 0 !important;
    visibility: hidden !important;
    position: absolute !important;
    top: calc(60px - 300px); /* Move the cards up by 300px */
    left: 50% !important;
    transform: translateX(-50%) !important;
    background: #F5F5F5 !important;
    border-radius: 16px !important;
    box-shadow: 0 4px 20px rgba(0,0,0,0.13) !important;
    width: 320px !important;
    min-width: 220px !important;
    max-width: 320px !important;
    min-height: 180px !important;
    max-height: 360px !important;
    padding: 1rem 1rem !important;
    z-index: 1000 !important;
    text-align: left !important;
    transition: opacity 180ms ease, transform 180ms ease, box-shadow 180ms ease !important;
    border: 2px solid #F5F5F5 !important;
    display: flex !important;
    flex-direction: row !important;
    align-items: flex-start !important;
    gap: 18px !important;
    overflow: visible !important;
    margin-bottom: 1rem !important;
    transform: translate(-50%, 70%) !important; /* Correctly applies horizontal and vertical translation */
  }
  .timeline-event-horizontal.active .timeline-card {
    display: flex !important;
    opacity: 1 !important;
    visibility: visible !important;
    box-shadow: 0 8px 32px rgba(0,0,0,0.16) !important;
  }
  .timeline-card img,
  .timeline-card img.long-img {
    width: 140px !important;
    height: 140px !important;
    max-width: 140px !important;
    max-height: 140px !important;
    object-fit: cover !important;
    border-radius: 8px !important;
    margin: 0 !important;
    background: none !important;
    display: block !important;
    flex-shrink: 0 !important;
    transition: box-shadow 0.2s;
  }
  .timeline-event-horizontal[data-index="7"] .timeline-card {
    left: 970px !important;
    transform: none !important;
  }
  .timeline-event-horizontal:last-child .timeline-card {
    left: auto !important;
    right: 32px !important;
    transform: none !important;
    box-shadow: 0 0 0 8px #F5F5F5 !important;
  }
  .timeline-event-horizontal:last-child {
    right: 0 !important;
    margin-right: 32px !important;
  }
  .timeline-year-list { display: none !important; }
  .timeline-vertical { display: none !important; }
}
@media (min-width: 1301px) {
  .timeline-horizontal {
    display: flex !important;
    flex-direction: row;
    align-items: flex-start;
    justify-content: flex-start;
    position: relative;
    width: 100%;
    max-width: 1200px;
    margin: 0 auto;
    padding-bottom: 100px;
    min-height: 290px;
    box-sizing: content-box;
    gap: 0;
    overflow-x: visible;
  }
  .timeline-bar {
    display: block !important;
    position: absolute;
    top: 50%; /* Center the bar vertically relative to the timeline */
    left: 80px;
    width: calc(100% - 160px);
    height: 4px;
    background: linear-gradient(90deg, #0071C5, #4CAF50);
    border-radius: 2px;
    z-index: 0;
    transform: translateY(-50%);
  }
  .timeline-event-horizontal[data-index="0"] { left: 80px; }
  .timeline-event-horizontal[data-index="1"] { left: 180px; }
  .timeline-event-horizontal[data-index="2"] { left: 300px; }
  .timeline-event-horizontal[data-index="3"] { left: 420px; }
  .timeline-event-horizontal[data-index="4"] { left: 540px; }
  .timeline-event-horizontal[data-index="5"] { left: 660px; }
  .timeline-event-horizontal[data-index="6"] { left: 780px; }
  .timeline-event-horizontal[data-index="7"] { left: 970px; }
  .timeline-card {
    width: 98vw !important;
    max-width: 98vw !important;
    min-width: 380px !important;
    left: 0 !important;
    transform: none !important;
    top: 110px !important;
    position: absolute !important;
    margin: 0 auto 1rem auto !important;
    border-radius: 16px !important;
  }
  .timeline-card img,
  .timeline-card img.long-img {
    width: 170px !important;
    height: 170px !important;
    max-width: 170px !important;
    max-height: 170px !important;
  }
  .card-text {
    font-size: 1.15em !important;
  }
}
@media (max-width: 767px) {
  .timeline-section { padding: 1rem 0.2rem; }
  .timeline-vertical {
    max-height: 180vh !important;
    height: 180vh !important;
    overflow-y: auto !important;
    padding-right: 10px !important;
    scrollbar-width: auto !important;
    scrollbar-color: #0071C5 #F5F5F5 !important;
  }
  .timeline-card {
    max-width: 68vw !important;
    width: 68vw !important;
    padding: 0.6rem 0.4rem !important;
    flex-direction: row !important;
    align-items: center !important;
    min-height: 180px !important;
    margin: 15px auto 18px auto !important;
  }
  .timeline-card img, .timeline-card img.long-img {
    width: 80px !important;
    height: 80px !important;
    max-width: 80px !important;
    max-height: 80px !important;
    object-fit: cover !important;
  }
  .timeline-card .card-text { font-size: 0.97em; }
  .timeline-event-vertical {
    margin-bottom: 2.5rem !important;
  }
}
html, body {
  overflow-x: hidden !important;
  max-width: 100vw !important;
}

/* --- Special media query for Nest Hub Max --- */
@media (min-width: 1280px) and (max-width: 1366px) and (min-height: 800px) and (max-height: 900px) {
  #nest-hub-max-banner {
    display: block !important;
    background: #4CAF50;
    color: #fff;
    text-align: center;
    font-size: 2rem;
    font-weight: bold;
    padding: 1.5rem 0;
    margin-bottom: 2rem;
    letter-spacing: 0.1em;
    border-bottom: 4px solid #0071C5;
  }
  .timeline-card {
    width: 80vw !important;
    max-width: 900px !important;
    margin-left: 0 !important;
    margin-right: auto !important;
    min-width: 0 !important;
    right: 0 !important;
    border-right: none !important;
    border-radius: 24px !important;
    box-shadow: 0 4px 30px rgba(0,0,0,0.10) !important;
    background: #fff !important;
    display: flex !important;
    align-items: center !important;
    padding: 2rem 2rem !important;
  }
  .timeline-card img,
  .timeline-card img.long-img {
    width: 120px !important;
    height: 120px !important;
    max-width: 120px !important;
    max-height: 120px !important;
    border-radius: 16px !important;
    margin-right: 32px !important;
    object-fit: cover !important;
    background: #fff !important;
  }
  .timeline-section {
    padding-bottom: 10vw !important;
  }
  .timeline-vertical {
    max-height: 35000vh !important;
    overflow-y: auto !important;
    padding-right: 36px !important;
    scrollbar-width: auto !important;
    scrollbar-color: #0071C5 #F5F5F5 !important;
  }
}

#nest-hub-max-banner { display: none !important; }

footer {
  background: linear-gradient(90deg, #0071C5 0%, #4CAF50 100%);
  color: #fff;
  text-align: center;
  padding: 0.7rem 0 0.3rem 0; /* less bottom padding */
  margin-bottom: 10px;         /* small gap from bottom */
  font-size: 0.95rem; /* smaller font */
  margin-top: 0;
  border-top: 2px solid #0071C5;
  width: 100%;
  position: relative;
  bottom: 0;
  left: 0;
}

/* Center the timeline title (keep color and font-size unchanged) */
.timeline-title {
  /* ...existing color, font-size, margin-bottom... */
  text-align: center;
  margin-left: auto;
  margin-right: auto;
  display: block;
}

/* Center all titles for beginners */
.timeline-title,
.header-title,
.hero h2,
footer p {
  text-align: center;
  margin-left: auto;
  margin-right: auto;
  display: block;
}

/* RTL horizontal timeline: align to right, same width as LTR */
html[dir="rtl"] .timeline-horizontal {
  flex-direction: row-reverse !important;
  right: 0 !important; /* Align timeline to right edge */
  left: auto !important;
  width: 100vw !important;
  max-width: 1200px !important;
  margin-left: auto !important;
  margin-right: auto !important;
}
html[dir="rtl"] .timeline-bar {
  right: 0 !important; /* Bar starts at right edge */
  left: auto !important;
  width: calc(100% - 160px) !important;
  background: linear-gradient(90deg, #4CAF50, #0071C5);
}

/* RTL CSS OVERRIDES */
/* General RTL overrides */
html[dir="rtl"] * { box-sizing: border-box; }

/* Bootstrap grid: flip columns */
html[dir="rtl"] .row { flex-direction: row-reverse !important; }
html[dir="rtl"] .col,
html[dir="rtl"] [class^="col-"] { text-align: right; }

/* Timeline vertical: flip dot, card, and marker */
html[dir="rtl"] .timeline-vertical { flex-direction: column-reverse !important; }
html[dir="rtl"] .timeline-vertical::before { left: unset !important; right: 40px !important; }
html[dir="rtl"] .timeline-dot-vertical { margin-left: 14px !important; margin-right: 30px !important; }
html[dir="rtl"] .timeline-card { flex-direction: row-reverse !important; text-align: right !important; }

/* RTL overrides for horizontal timeline (beginner-friendly) */
html[dir="rtl"] .timeline-horizontal {
  flex-direction: row-reverse !important; /* Flip timeline direction */
}
html[dir="rtl"] .timeline-bar {
  left: unset !important;
  right: 80px !important; /* Flip bar position */
  background: linear-gradient(90deg, #4CAF50, #0071C5); /* Flip gradient direction */
}
/* Flip event positions for RTL */
html[dir="rtl"] .timeline-event-horizontal[data-index="0"] { right: 80px !important; left: unset !important; }
html[dir="rtl"] .timeline-event-horizontal[data-index="1"] { right: 180px !important; left: unset !important; }
html[dir="rtl"] .timeline-event-horizontal[data-index="2"] { right: 300px !important; left: unset !important; }
html[dir="rtl"] .timeline-event-horizontal[data-index="3"] { right: 420px !important; left: unset !important; }
html[dir="rtl"] .timeline-event-horizontal[data-index="4"] { right: 540px !important; left: unset !important; }
html[dir="rtl"] .timeline-event-horizontal[data-index="5"] { right: 660px !important; left: unset !important; }
html[dir="rtl"] .timeline-event-horizontal[data-index="6"] { right: 780px !important; left: unset !important; }
html[dir="rtl"] .timeline-event-horizontal[data-index="7"] { right: 970px !important; left: unset !important; }
/* Flip card alignment for RTL */
html[dir="rtl"] .timeline-card {
  flex-direction: row-reverse !important;
  text-align: right !important;
}

/* RTL overrides for horizontal timeline (make sure timeline is visible and same width as LTR) */
html[dir="rtl"] .timeline-horizontal {
  flex-direction: row-reverse !important; /* Flip timeline direction */
  left: 0 !important; /* Always start at left edge */
  right: auto !important;
  width: 100vw !important; /* Take up full viewport width */
  max-width: 1200px !important; /* Same as LTR */
  margin-left: auto !important;
  margin-right: auto !important;
}
html[dir="rtl"] .timeline-bar {
  left: 0 !important; /* Bar starts at left edge */
  right: auto !important;
  width: calc(100% - 160px) !important; /* Same as LTR */
  background: linear-gradient(90deg, #4CAF50, #0071C5); /* Flip gradient direction */
}
/* Flip event positions for RTL, but keep them visible */
html[dir="rtl"] .timeline-event-horizontal[data-index="0"] { right: 80px !important; left: auto !important; }
html[dir="rtl"] .timeline-event-horizontal[data-index="1"] { right: 180px !important; left: auto !important; }
html[dir="rtl"] .timeline-event-horizontal[data-index="2"] { right: 300px !important; left: auto !important; }
html[dir="rtl"] .timeline-event-horizontal[data-index="3"] { right: 420px !important; left: auto !important; }
html[dir="rtl"] .timeline-event-horizontal[data-index="4"] { right: 540px !important; left: auto !important; }
html[dir="rtl"] .timeline-event-horizontal[data-index="5"] { right: 660px !important; left: auto !important; }
html[dir="rtl"] .timeline-event-horizontal[data-index="6"] { right: 780px !important; left: auto !important; }
html[dir="rtl"] .timeline-event-horizontal[data-index="7"] { right: 970px !important; left: auto !important; }
/* Flip card alignment for RTL */
html[dir="rtl"] .timeline-card {
  flex-direction: row-reverse !important;
  text-align: right !important;
}

/* BEGINNER TIP: Reverse the vertical timeline order so the first event is at the bottom and last at the top */
.timeline-vertical {
  flex-direction: column-reverse !important;
  /* ...existing code... */
}

/* Make sure vertical timeline is visible and scrollable on all devices */
.timeline-section {
  min-height: 100vh;
  height: 100%;
  overflow-y: auto;
}

/* Cards: align with their plot points (dot) using flex and margin for beginners */
.timeline-event-vertical {
  align-items: center; /* Center dot and card vertically */
}
.timeline-dot-vertical {
  margin-top: 0; /* Remove extra top margin so dot aligns with card */
}
.timeline-card {
  margin-top: 0 !important;
  margin-bottom: 0 !important;
}

/* Fix footer always visible at the bottom */
footer {
  background: linear-gradient(90deg, #0071C5 0%, #4CAF50 100%);
  color: #fff;
  text-align: center;
  padding: 0.7rem 0 0.3rem 0; /* less bottom padding */
  margin-bottom: 10px;         /* small gap from bottom */
  font-size: 0.95rem; /* smaller font */
  margin-top: 0;
  border-top: 2px solid #0071C5;
  width: 100%;
  position: relative;
  bottom: 0;
  left: 0;
}

/* --- Consolidated Media Queries --- */
@media (max-width: 1200px), 
       (max-width: 1300px) and (max-height: 700px), 
       (max-width: 767px), 
       (device-width: 414px) and (device-height: 896px), /* iPhone XR */
       (device-width: 390px) and (device-height: 844px), /* iPhone 12 Pro */
       (device-width: 412px) and (device-height: 915px), /* Pixel 7, S20 Ultra */
       (max-width: 420px) and (max-height: 920px), 
       (device-width: 360px) and (device-height: 740px), /* Samsung S8 */
       (max-width: 370px) and (max-height: 750px) {
  .timeline-section {
    min-height: 140vh !important;
    height: 140vh !important;
    padding-bottom: 60px !important;
    padding-top: 40px !important;
    overflow-y: auto !important;
  }
  .timeline-vertical {
    gap: 3.5rem !important;
    margin-bottom: 60px !important;
  }
  footer {
    padding: 0.7rem 0 0.7rem 0 !important;
    font-size: 0.95rem !important;
    margin-top: 0 !important;
  }
  .timeline-event-vertical[aria-label="2022"] .timeline-card,
  .timeline-event-vertical[aria-label="2023"] .timeline-card {
    display: none !important;
    opacity: 0 !important;
    visibility: hidden !important;
    margin-bottom: 0 !important;
  }
  .timeline-event-vertical.active[aria-label="2022"] .timeline-card,
  .timeline-event-vertical.active[aria-label="2023"] .timeline-card {
    display: flex !important;
    opacity: 1 !important;
    visibility: visible !important;
    margin-bottom: 2rem !important;
  }
}

/* Consolidated Nest Hub Max Media Query */
@media (min-width: 1280px) and (max-width: 1366px) and (min-height: 800px) and (max-height: 900px) {
  body, .timeline-section {
    background: #F5F5F5 !important;
  }
  .timeline-card {
    transform: scale(0.8) !important;
    transform-origin: top left !important;
    background: #F5F5F5 !important;
  }
  .timeline-card:hover {
    background: #fff !important;
  }
  footer {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    width: 100%;
    padding: 1rem 0;
    font-size: 0.9rem;
  }
}

/* Consolidated iPad Media Query */
@media (min-width: 768px) and (max-width: 1024px) {
  .timeline-card {
    transform: scale(0.8) !important;
    transform-origin: top left !important;
  }
}

/* Consolidated iPhone XR and iPhone 12 Pro Media Query */
@media (device-width: 414px) and (device-height: 896px), 
       (device-width: 390px) and (device-height: 844px) {
  .timeline-event-horizontal[data-index="6"] {
    left: 610px !important;
  }
  .timeline-vertical {
    max-height: none !important;
    height: auto !important;
    overflow-y: visible !important;
  }
  body, html {
    overflow-y: auto !important;
    height: auto !important;
  }
  .timeline-section {
    min-height: 120vh !important;
    height: auto !important;
    overflow-y: visible !important;
    padding-bottom: 180px !important;
  }
}

/* Consolidated General Scroll Adjustment */
html, body {
  overflow-y: auto !important;
  height: auto !important;
  min-height: 100vh !important;
}
.timeline-section {
  min-height: 180vh !important;
  height: auto !important;
  padding-bottom: 300px !important;
}

/* Timeline adjusts direction based on language */
/* Beginner tip: Use left-to-right for English, right-to-left for Arabic/Hebrew */
html[lang="en"] .timeline-vertical {
  flex-direction: column !important;
  align-items: flex-start !important;
}
html[lang="en"] .timeline-vertical::before {
  left: 40px !important;
  right: unset !important;
}
html[lang="en"] .timeline-dot-vertical {
  margin-left: 30px !important;
  margin-right: 14px !important;
}
html[lang="en"] .timeline-card {
  flex-direction: row !important;
  text-align: left !important;
}

html[lang="ar"], html[lang="he"], html[dir="rtl"] .timeline-vertical {
  flex-direction: column-reverse !important;
  align-items: flex-end !important;
}
html[lang="ar"] .timeline-vertical::before,
html[lang="he"] .timeline-vertical::before,
html[dir="rtl"] .timeline-vertical::before {
  left: unset !important;
  right: 40px !important;
}
html[lang="ar"] .timeline-dot-vertical,
html[lang="he"] .timeline-dot-vertical,
html[dir="rtl"] .timeline-dot-vertical {
  margin-left: 14px !important;
  margin-right: 30px !important;
}
html[lang="ar"] .timeline-card,
html[lang="he"] .timeline-card,
html[dir="rtl"] .timeline-card {
  flex-direction: row-reverse !important;
  text-align: right !important;
}

/* Fix Nest Hub Max background and card size */
@media (min-width: 1280px) and (max-width: 1366px) and (min-height: 800px) and (max-height: 900px) {
  body {
    background: #F5F5F5 !important;
  }
  .timeline-card {
    transform: scale(0.8) !important; /* iPad cards ~20% larger */ /* reduce card size by 40% */
    transform-origin: top left !important;
  }
}

/* Fix for iPads - scale down cards by 40% */
@media (min-width: 768px) and (max-width: 1024px) {
  .timeline-card {
    transform: scale(0.8) !important; /* iPad cards ~20% larger */
    transform-origin: top left !important;
  }
}

header {
  position: relative;
  top: -20vh !important; /* move header up by ~20% viewport height */
}
body {
  padding-top: 22vh !important; /* ensure scroll space to reach header */
}

/* Nest Hub Max fix: remove white background */
@media (min-width: 1280px) and (max-width: 1366px) and (min-height: 800px) and (max-height: 900px) {
  body {
    background: #F5F5F5 !important;
  }
  .timeline-section {
    background: #F5F5F5 !important;
  }
}

/* Timeline Section */
.timeline-section { padding: 3rem 2rem; background: #F5F5F5; width: 100%; position: relative; min-height: 90vh; overflow: visible; }
.timeline-title { color: #0071C5; font-size: 2rem; margin-bottom: 2rem; text-align: center; margin-left: auto; margin-right: auto; display: block; }

/* Horizontal Timeline */
.timeline-horizontal {
  display: flex; /* Default display for desktop */
  flex-direction: row;
  align-items: center; /* Ensure alignment of plot points with the timeline bar */
  justify-content: flex-start;
  position: relative;
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  padding-bottom: 100px;
  min-height: 290px;
  box-sizing: content-box;
  gap: 0;
  overflow-x: visible;
}

@media (max-width: 1300px) {
  .timeline-horizontal {
    display: none; /* Hide horizontal timeline on non-desktop devices */
  }
}

.timeline-bar {
  display: block;
  position: absolute;
  top: calc(40% - 300px); /* Timeline moved up by 300px */
  left: 70px;
  width: calc(100% - 140px);
  height: 4px;
  background: linear-gradient(90deg, #0071C5, #4CAF50);
  border-radius: 2px;
  z-index: 0;
  transform: translateY(-50%);
}

.timeline-event-horizontal {
  position: absolute;
  display: flex;
  flex-direction: column;
  align-items: center;
  min-height: 310px; /* Increase height to accommodate more spacing */
  z-index: 2;
  outline: none;
  background: none;
  width: 120px;
  max-width: 120px;
  text-align: center;
}

.timeline-event-horizontal[data-index="0"] { left: 70px; }
.timeline-event-horizontal[data-index="1"] { left: 220px; } /* Increased spacing */
.timeline-event-horizontal[data-index="2"] { left: 370px; } /* Increased spacing */
.timeline-event-horizontal[data-index="3"] { left: 520px; } /* Increased spacing */
.timeline-event-horizontal[data-index="4"] { left: 670px; } /* Increased spacing */
.timeline-event-horizontal[data-index="5"] { left: 820px; } /* Increased spacing */
.timeline-event-horizontal[data-index="6"] { left: 970px; } /* Increased spacing */

.timeline-dot-horizontal {
  position: absolute;
  top: calc(40% - 300px); /* Align dots with the moved timeline bar */
  left: 50%;
  transform: translate(-50%, 50%); /* Adjust vertical alignment */
  width: 18px;
  height: 18px;
  background: #4CAF50;
  border: 3px solid #0071C5;
  border-radius: 50%;
  z-index: 2;
  cursor: pointer;
  box-sizing: border-box;
  transition: border 0.2s, background 0.2s;
}

.timeline-event-horizontal.active .timeline-dot-horizontal {
  border-color: #4CAF50;
  background: #0071C5;
}

.timeline-date-horizontal {
  position: absolute;
  top: 30px;
  left: 50%;
  transform: translateX(-50%);
  font-weight: bold;
  color: #0071C5;
  background: rgba(255, 255, 255, 0.85);
  padding: 2px 8px;
  border-radius: 8px;
  font-size: 1rem;
  z-index: 3;
  min-width: 48px;
  text-align: center;
  pointer-events: none;
}

/* Vertical Timeline */
.timeline-vertical {
  display: none; /* Default: hidden on desktop */
  flex-direction: column;
  position: relative;
  width: 100%;
  max-width: 100%;
  margin: 0 auto;
  padding-bottom: 0;
  justify-content: center;
  align-items: center;
}

@media (max-width: 1300px) {
  .timeline-vertical {
    display: flex; /* Show vertical timeline on non-desktop devices */
  }
}

.timeline-vertical::before {
  content: "";
  position: absolute;
  left: 40px;
  top: 0;
  bottom: 0;
  width: 4px;
  background: linear-gradient(180deg, #0071C5, #4CAF50);
  border-radius: 2px;
}

.timeline-event-vertical {
  display: flex;
  flex-direction: row;
  align-items: flex-start;
  position: relative;
  width: 100%;
  background: none;
  margin-bottom: 3rem; /* Ensure consistent spacing between vertical events */
  cursor: pointer;
}

.timeline-dot-vertical {
  width: 24px;
  height: 24px;
  background: #4CAF50;
  border: 3px solid #0071C5;
  border-radius: 50%;
  margin-top: 0.8rem; /* Add 20px more spacing above the dots */
  margin-left: 30px;
  margin-right: 14px;
  box-sizing: border-box;
  transition: border 0.2s, background 0.2s;
}

.timeline-event-vertical.active .timeline-dot-vertical {
  border-color: #4CAF50;
  background: #0071C5;
}

.timeline-date-vertical {
  font-weight: bold;
  color: #0071C5;
  font-size: 1.2rem;
  margin-bottom: 8px;
  margin-top: 0.5rem;
  transition: color 0.2s;
}

/* Cards */
.timeline-card {
  display: none; /* Initially hidden */
  opacity: 0;
  visibility: hidden;
  position: absolute;
  background: #F5F5F5;
  border-radius: 16px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.13);
  width: 320px;
  min-width: 220px;
  max-width: 320px;
  min-height: 180px;
  max-height: 360px;
  padding: 1rem;
  z-index: 999; /* Ensure cards are above other elements */
  text-align: left;
  transition: opacity 0.3s ease, visibility 0.3s ease, transform 0.3s ease;
  margin-top: 0; /* Remove internal spacing */
}

.timeline-card.active {
  display: flex; /* Make the card visible */
  opacity: 1;
  visibility: visible;
  margin-top: 20px; /* Add spacing to avoid overlap */
}

/* Mobile-specific styles */
@media (max-width: 767px) {
  .timeline-card {
    top: 140%; /* Increase spacing below the timeline */
    left: 60%; /* Adjust cards to be 50% to the left */
    transform: translateX(-50%);
  }
}

/* Desktop-specific styles */
@media (min-width: 768px) {
  .timeline-card {
    top: 40px; /* Increase spacing above the timeline to avoid overlap */
    left: 150px; /* Position the card to the right of the timeline */
    transform: none;
  }
}

/* Removed redundant media queries */
@media (max-width: 1200px) {
  .timeline-section {
    padding: 2rem 1rem;
  }
  .timeline-card {
    width: 85vw;
    max-width: 85vw;
    min-width: 320px;
    min-height: 190px;
    padding: 1.4rem;
    font-size: 1.11em;
  }
  .timeline-card img {
    width: 150px;
    height: 150px;
  }
  .card-text {
    font-size: 1.13em;
  }
}
@media (min-width: 768px) and (max-width: 1200px) {
  .timeline-section,
  .timeline-vertical {
    width: 100% !important;
    max-width: 100% !important;
  }
  .timeline-vertical {
    max-height: 140vh !important;
    height: 140vh !important;
    overflow-y: auto !important;
    padding-right: 28px !important;
    scrollbar-width: auto !important;
    scrollbar-color: #0071C5 #F5F5F5 !important;
  }
  .timeline-section { padding: 2rem 1rem; }
  .timeline-card {
    width: 85vw !important;
    max-width: 85vw !important;
    min-width: 320px !important;
    min-height: 190px !important;
    padding: 1.4rem 1.4rem !important;
    font-size: 1.11em !important;
  }
  .timeline-card img,
  .timeline-card img.long-img {
    width: 150px !important;
    height: 150px !important;
    max-width: 150px !important;
    max-height: 150px !important;
  }
  .card-text { font-size: 1.13em !important; }
}
@media (min-width: 1200px) and (max-width: 1300px) and (max-height: 700px) {
  .timeline-horizontal {
    display: flex !important;
    flex-direction: row;
    align-items: flex-start;
    justify-content: flex-start;
    position: relative;
    width: 100%;
    max-width: 1200px;
    margin: 0 auto;
    padding-bottom: 100px;
    min-height: 290px;
    box-sizing: content-box;
    gap: 0;
    overflow-x: visible;
  }
  .timeline-bar {
    display: block !important;
    position: absolute;
    top: 50%; /* Center the bar vertically relative to the timeline */
    left: 70px;
    width: calc(100% - 140px);
    height: 4px;
    background: linear-gradient(90deg, #0071C5, #4CAF50);
    border-radius: 2px;
    z-index: 0;
    transform: translateY(-50%);
  }
  .timeline-event-horizontal {
    position: absolute;
    display: flex;
    flex-direction: column;
    align-items: center;
    min-height: 310px; /* Increase height to accommodate more spacing */
    z-index: 2;
    outline: none;
    background: none;
    width: 120px;
    max-width: 120px;
    text-align: center;
  }
  .timeline-event-horizontal[data-index="0"] { left: 70px; }
  .timeline-event-horizontal[data-index="1"] { left: 220px; } /* Increased spacing */
  .timeline-event-horizontal[data-index="2"] { left: 370px; } /* Increased spacing */
  .timeline-event-horizontal[data-index="3"] { left: 520px; } /* Increased spacing */
  .timeline-event-horizontal[data-index="4"] { left: 670px; } /* Increased spacing */
  .timeline-event-horizontal[data-index="5"] { left: 820px; } /* Increased spacing */
  .timeline-event-horizontal[data-index="6"] { left: 970px; } /* Increased spacing */
  .timeline-dot-horizontal {
    position: absolute;
    top: 50%; /* Align dots with the center of the timeline bar */
    left: 50%;
    transform: translate(-50%, 100%); /* Adjusted vertical alignment to 70% */
    width: 18px;
    height: 18px;
    background: #4CAF50;
    border: 3px solid #0071C5;
    border-radius: 50%;
    z-index: 2;
    cursor: pointer;
    box-sizing: border-box;
    transition: border 0.2s, background 0.2s;
  }
  .timeline-event-horizontal.active .timeline-dot-horizontal {
    border-color: #4CAF50;
    background: #0071C5;
  }
  .timeline-date-horizontal {
    position: absolute;
    top: 30px;
    left: 50%;
    transform: translateX(-50%);
    font-weight: bold;
    color: #0071C5;
    background: rgba(255,255,255,0.85);
    padding: 2px 8px;
    border-radius: 8px;
    font-size: 1rem;
    z-index: 3;
    min-width: 48px;
    text-align: center;
    pointer-events: none;
  }
  .timeline-card {
    display: none !important;
    opacity: 0 !important;
    visibility: hidden !important;
    position: absolute !important;
    top: calc(60% - 250px); /* Position cards below the timeline */
    left: 50% !important;
    transform: translateX(-50%) !important;
    background: #F5F5F5 !important;
    border-radius: 16px !important;
    box-shadow: 0 4px 20px rgba(0,0,0,0.13) !important;
    width: 320px !important;
    min-width: 220px !important;
    max-width: 320px !important;
    min-height: 180px !important;
    max-height: 360px !important;
    padding: 1rem 1rem !important;
    z-index: 1000 !important;
    text-align: left !important;
    transition: opacity 180ms ease, transform 180ms ease, box-shadow 180ms ease !important;
    border: 2px solid #F5F5F5 !important;
    display: flex !important;
    flex-direction: row !important;
    align-items: flex-start !important;
    gap: 18px !important;
    overflow: visible !important;
    margin-bottom: 1rem !important;
    transform: translate(-50%, 70%) !important; /* Correctly applies horizontal and vertical translation */
  }
  .timeline-event-horizontal.active .timeline-card {
    display: flex !important;
    opacity: 1 !important;
    visibility: visible !important;
    box-shadow: 0 8px 32px rgba(0,0,0,0.16) !important;
  }
  .timeline-card img,
  .timeline-card img.long-img {
    width: 140px !important;
    height: 140px !important;
    max-width: 140px !important;
    max-height: 140px !important;
    object-fit: cover !important;
    border-radius: 8px !important;
    margin: 0 !important;
    background: none !important;
    display: block !important;
    flex-shrink: 0 !important;
    transition: box-shadow 0.2s;
  }
  .timeline-event-horizontal[data-index="7"] .timeline-card {
    left: 970px !important;
    transform: none !important;
  }
  .timeline-event-horizontal:last-child .timeline-card {
    left: auto !important;
    right: 32px !important;
    transform: none !important;
    box-shadow: 0 0 0 8px #F5F5F5 !important;
  }
  .timeline-event-horizontal:last-child {
    right: 0 !important;
    margin-right: 32px !important;
  }
  .timeline-year-list { display: none !important; }
  .timeline-vertical { display: none !important; }
}
@media (min-width: 1301px) {
  .timeline-horizontal {
    display: flex !important;
    flex-direction: row;
    align-items: flex-start;
    justify-content: flex-start;
    position: relative;
    width: 100%;
    max-width: 1200px;
    margin: 0 auto;
    padding-bottom: 100px;
    min-height: 290px;
    box-sizing: content-box;
    gap: 0;
    overflow-x: visible;
  }
  .timeline-bar {
    display: block !important;
    position: absolute;
    top: 50%; /* Center the bar vertically relative to the timeline */
    left: 80px;
    width: calc(100% - 160px);
    height: 4px;
    background: linear-gradient(90deg, #0071C5, #4CAF50);
    border-radius: 2px;
    z-index: 0;
    transform: translateY(-50%);
  }
  .timeline-event-horizontal[data-index="0"] { left: 80px; }
  .timeline-event-horizontal[data-index="1"] { left: 180px; }
  .timeline-event-horizontal[data-index="2"] { left: 300px; }
  .timeline-event-horizontal[data-index="3"] { left: 420px; }
  .timeline-event-horizontal[data-index="4"] { left: 540px; }
  .timeline-event-horizontal[data-index="5"] { left: 660px; }
  .timeline-event-horizontal[data-index="6"] { left: 780px; }
  .timeline-event-horizontal[data-index="7"] { left: 970px; }
  .timeline-card {
    width: 98vw !important;
    max-width: 98vw !important;
    min-width: 380px !important;
    left: 0 !important;
    transform: none !important;
    top: 110px !important;
    position: absolute !important;
    margin: 0 auto 1rem auto !important;
    border-radius: 16px !important;
  }
  .timeline-card img,
  .timeline-card img.long-img {
    width: 170px !important;
    height: 170px !important;
    max-width: 170px !important;
    max-height: 170px !important;
  }
  .card-text {
    font-size: 1.15em !important;
  }
}
@media (max-width: 767px) {
  .timeline-section { padding: 1rem 0.2rem; }
  .timeline-vertical {
    max-height: 180vh !important;
    height: 180vh !important;
    overflow-y: auto !important;
    padding-right: 10px !important;
    scrollbar-width: auto !important;
    scrollbar-color: #0071C5 #F5F5F5 !important;
  }
  .timeline-card {
    max-width: 68vw !important;
    width: 68vw !important;
    padding: 0.6rem 0.4rem !important;
    flex-direction: row !important;
    align-items: center !important;
    min-height: 180px !important;
    margin: 15px auto 18px auto !important;
  }
  .timeline-card img, .timeline-card img.long-img {
    width: 80px !important;
    height: 80px !important;
    max-width: 80px !important;
    max-height: 80px !important;
    object-fit: cover !important;
  }
  .timeline-card .card-text { font-size: 0.97em; }
  .timeline-event-vertical {
    margin-bottom: 2.5rem !important;
  }
}
html, body {
  overflow-x: hidden !important;
  max-width: 100vw !important;
}

/* --- Special media query for Nest Hub Max --- */
@media (min-width: 1280px) and (max-width: 1366px) and (min-height: 800px) and (max-height: 900px) {
  #nest-hub-max-banner {
    display: block !important;
    background: #4CAF50;
    color: #fff;
    text-align: center;
    font-size: 2rem;
    font-weight: bold;
    padding: 1.5rem 0;
    margin-bottom: 2rem;
    letter-spacing: 0.1em;
    border-bottom: 4px solid #0071C5;
  }
  .timeline-card {
    width: 80vw !important;
    max-width: 900px !important;
    margin-left: 0 !important;
    margin-right: auto !important;
    min-width: 0 !important;
    right: 0 !important;
    border-right: none !important;
    border-radius: 24px !important;
    box-shadow: 0 4px 30px rgba(0,0,0,0.10) !important;
    background: #fff !important;
    display: flex !important;
    align-items: center !important;
    padding: 2rem 2rem !important;
  }
  .timeline-card img,
  .timeline-card img.long-img {
    width: 120px !important;
    height: 120px !important;
    max-width: 120px !important;
    max-height: 120px !important;
    border-radius: 16px !important;
    margin-right: 32px !important;
    object-fit: cover !important;
    background: #fff !important;
  }
  .timeline-section {
    padding-bottom: 10vw !important;
  }
  .timeline-vertical {
    max-height: 35000vh !important;
    overflow-y: auto !important;
    padding-right: 36px !important;
    scrollbar-width: auto !important;
    scrollbar-color: #0071C5 #F5F5F5 !important;
  }
}

#nest-hub-max-banner { display: none !important; }

footer {
  background: linear-gradient(90deg, #0071C5 0%, #4CAF50 100%);
  color: #fff;
  text-align: center;
  padding: 0.7rem 0 0.3rem 0; /* less bottom padding */
  margin-bottom: 10px;         /* small gap from bottom */
  font-size: 0.95rem; /* smaller font */
  margin-top: 0;
  border-top: 2px solid #0071C5;
  width: 100%;
  position: relative;
  bottom: 0;
  left: 0;
}

/* Center the timeline title (keep color and font-size unchanged) */
.timeline-title {
  /* ...existing color, font-size, margin-bottom... */
  text-align: center;
  margin-left: auto;
  margin-right: auto;
  display: block;
}

/* Center all titles for beginners */
.timeline-title,
.header-title,
.hero h2,
footer p {
  text-align: center;
  margin-left: auto;
  margin-right: auto;
  display: block;
}

/* RTL horizontal timeline: align to right, same width as LTR */
html[dir="rtl"] .timeline-horizontal {
  flex-direction: row-reverse !important;
  right: 0 !important; /* Align timeline to right edge */
  left: auto !important;
  width: 100vw !important;
  max-width: 1200px !important;
  margin-left: auto !important;
  margin-right: auto !important;
}
html[dir="rtl"] .timeline-bar {
  right: 0 !important; /* Bar starts at right edge */
  left: auto !important;
  width: calc(100% - 160px) !important;
  background: linear-gradient(90deg, #4CAF50, #0071C5);
}

/* RTL CSS OVERRIDES */
/* General RTL overrides */
html[dir="rtl"] * { box-sizing: border-box; }

/* Bootstrap grid: flip columns */
html[dir="rtl"] .row { flex-direction: row-reverse !important; }
html[dir="rtl"] .col,
html[dir="rtl"] [class^="col-"] { text-align: right; }

/* Timeline vertical: flip dot, card, and marker */
html[dir="rtl"] .timeline-vertical { flex-direction: column-reverse !important; }
html[dir="rtl"] .timeline-vertical::before { left: unset !important; right: 40px !important; }
html[dir="rtl"] .timeline-dot-vertical { margin-left: 14px !important; margin-right: 30px !important; }
html[dir="rtl"] .timeline-card { flex-direction: row-reverse !important; text-align: right !important; }

/* RTL overrides for horizontal timeline (beginner-friendly) */
html[dir="rtl"] .timeline-horizontal {
  flex-direction: row-reverse !important; /* Flip timeline direction */
}
html[dir="rtl"] .timeline-bar {
  left: unset !important;
  right: 80px !important; /* Flip bar position */
  background: linear-gradient(90deg, #4CAF50, #0071C5); /* Flip gradient direction */
}
/* Flip event positions for RTL */
html[dir="rtl"] .timeline-event-horizontal[data-index="0"] { right: 80px !important; left: unset !important; }
html[dir="rtl"] .timeline-event-horizontal[data-index="1"] { right: 180px !important; left: unset !important; }
html[dir="rtl"] .timeline-event-horizontal[data-index="2"] { right: 300px !important; left: unset !important; }
html[dir="rtl"] .timeline-event-horizontal[data-index="3"] { right: 420px !important; left: unset !important; }
html[dir="rtl"] .timeline-event-horizontal[data-index="4"] { right: 540px !important; left: unset !important; }
html[dir="rtl"] .timeline-event-horizontal[data-index="5"] { right: 660px !important; left: unset !important; }
html[dir="rtl"] .timeline-event-horizontal[data-index="6"] { right: 780px !important; left: unset !important; }
html[dir="rtl"] .timeline-event-horizontal[data-index="7"] { right: 970px !important; left: unset !important; }
/* Flip card alignment for RTL */
html[dir="rtl"] .timeline-card {
  flex-direction: row-reverse !important;
  text-align: right !important;
}

/* RTL overrides for horizontal timeline (make sure timeline is visible and same width as LTR) */
html[dir="rtl"] .timeline-horizontal {
  flex-direction: row-reverse !important; /* Flip timeline direction */
  left: 0 !important; /* Always start at left edge */
  right: auto !important;
  width: 100vw !important; /* Take up full viewport width */
  max-width: 1200px !important; /* Same as LTR */
  margin-left: auto !important;
  margin-right: auto !important;
}
html[dir="rtl"] .timeline-bar {
  left: 0 !important; /* Bar starts at left edge */
  right: auto !important;
  width: calc(100% - 160px) !important; /* Same as LTR */
  background: linear-gradient(90deg, #4CAF50, #0071C5); /* Flip gradient direction */
}
/* Flip event positions for RTL, but keep them visible */
html[dir="rtl"] .timeline-event-horizontal[data-index="0"] { right: 80px !important; left: auto !important; }
html[dir="rtl"] .timeline-event-horizontal[data-index="1"] { right: 180px !important; left: auto !important; }
html[dir="rtl"] .timeline-event-horizontal[data-index="2"] { right: 300px !important; left: auto !important; }
html[dir="rtl"] .timeline-event-horizontal[data-index="3"] { right: 420px !important; left: auto !important; }
html[dir="rtl"] .timeline-event-horizontal[data-index="4"] { right: 540px !important; left: auto !important; }
html[dir="rtl"] .timeline-event-horizontal[data-index="5"] { right: 660px !important; left: auto !important; }
html[dir="rtl"] .timeline-event-horizontal[data-index="6"] { right: 780px !important; left: auto !important; }
html[dir="rtl"] .timeline-event-horizontal[data-index="7"] { right: 970px !important; left: auto !important; }
/* Flip card alignment for RTL */
html[dir="rtl"] .timeline-card {
  flex-direction: row-reverse !important;
  text-align: right !important;
}

/* BEGINNER TIP: Reverse the vertical timeline order so the first event is at the bottom and last at the top */
.timeline-vertical {
  flex-direction: column-reverse !important;
  /* ...existing code... */
}

/* Make sure vertical timeline is visible and scrollable on all devices */
.timeline-section {
  min-height: 100vh;
  height: 100%;
  overflow-y: auto;
}

/* Cards: align with their plot points (dot) using flex and margin for beginners */
.timeline-event-vertical {
  align-items: center; /* Center dot and card vertically */
}
.timeline-dot-vertical {
  margin-top: 0; /* Remove extra top margin so dot aligns with card */
}
.timeline-card {
  margin-top: 0 !important;
  margin-bottom: 0 !important;
}

/* Fix footer always visible at the bottom */
footer {
  background: linear-gradient(90deg, #0071C5 0%, #4CAF50 100%);
  color: #fff;
  text-align: center;
  padding: 0.7rem 0 0.3rem 0; /* less bottom padding */
  margin-bottom: 10px;         /* small gap from bottom */
  font-size: 0.95rem; /* smaller font */
  margin-top: 0;
  border-top: 2px solid #0071C5;
  width: 100%;
  position: relative;
  bottom: 0;
  left: 0;
}

/* --- Consolidated Media Queries --- */
@media (max-width: 1200px), 
       (max-width: 1300px) and (max-height: 700px), 
       (max-width: 767px), 
       (device-width: 414px) and (device-height: 896px), /* iPhone XR */
       (device-width: 390px) and (device-height: 844px), /* iPhone 12 Pro */
       (device-width: 412px) and (device-height: 915px), /* Pixel 7, S20 Ultra */
       (max-width: 420px) and (max-height: 920px), 
       (device-width: 360px) and (device-height: 740px), /* Samsung S8 */
       (max-width: 370px) and (max-height: 750px) {
  .timeline-section {
    min-height: 140vh !important;
    height: 140vh !important;
    padding-bottom: 60px !important;
    padding-top: 40px !important;
    overflow-y: auto !important;
  }
  .timeline-vertical {
    gap: 3.5rem !important;
    margin-bottom: 60px !important;
  }
  footer {
    padding: 0.7rem 0 0.7rem 0 !important;
    font-size: 0.95rem !important;
    margin-top: 0 !important;
  }
  .timeline-event-vertical[aria-label="2022"] .timeline-card,
  .timeline-event-vertical[aria-label="2023"] .timeline-card {
    display: none !important;
    opacity: 0 !important;
    visibility: hidden !important;
    margin-bottom: 0 !important;
  }
  .timeline-event-vertical.active[aria-label="2022"] .timeline-card,
  .timeline-event-vertical.active[aria-label="2023"] .timeline-card {
    display: flex !important;
    opacity: 1 !important;
    visibility: visible !important;
    margin-bottom: 2rem !important;
  }
}

/* Consolidated Nest Hub Max Media Query */
@media (min-width: 1280px) and (max-width: 1366px) and (min-height: 800px) and (max-height: 900px) {
  body, .timeline-section {
    background: #F5F5F5 !important;
  }
  .timeline-card {
    transform: scale(0.8) !important;
    transform-origin: top left !important;
    background: #F5F5F5 !important;
  }
  .timeline-card:hover {
    background: #fff !important;
  }
  footer {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    width: 100%;
    padding: 1rem 0;
    font-size: 0.9rem;
  }
}

/* Consolidated iPad Media Query */
@media (min-width: 768px) and (max-width: 1024px) {
  .timeline-card {
    transform: scale(0.8) !important;
    transform-origin: top left !important;
  }
}

/* Consolidated iPhone XR and iPhone 12 Pro Media Query */
@media (device-width: 414px) and (device-height: 896px), 
       (device-width: 390px) and (device-height: 844px) {
  .timeline-event-horizontal[data-index="6"] {
    left: 610px !important;
  }
  .timeline-vertical {
    max-height: none !important;
    height: auto !important;
    overflow-y: visible !important;
  }
  body, html {
    overflow-y: auto !important;
    height: auto !important;
  }
  .timeline-section {
    min-height: 120vh !important;
    height: auto !important;
    overflow-y: visible !important;
    padding-bottom: 180px !important;
  }
}

/* Consolidated General Scroll Adjustment */
html, body {
  overflow-y: auto !important;
  height: auto !important;
  min-height: 100vh !important;
}
.timeline-section {
  min-height: 180vh !important;
  height: auto !important;
  padding-bottom: 300px !important;
}

/* Timeline adjusts direction based on language */
/* Beginner tip: Use left-to-right for English, right-to-left for Arabic/Hebrew */
html[lang="en"] .timeline-vertical {
  flex-direction: column !important;
  align-items: flex-start !important;
}
html[lang="en"] .timeline-vertical::before {
  left: 40px !important;
  right: unset !important;
}
html[lang="en"] .timeline-dot-vertical {
  margin-left: 30px !important;
  margin-right: 14px !important;
}
html[lang="en"] .timeline-card {
  flex-direction: row !important;
  text-align: left !important;
}

html[lang="ar"], html[lang="he"], html[dir="rtl"] .timeline-vertical {
  flex-direction: column-reverse !important;
  align-items: flex-end !important;
}
html[lang="ar"] .timeline-vertical::before,
html[lang="he"] .timeline-vertical::before,
html[dir="rtl"] .timeline-vertical::before {
  left: unset !important;
  right: 40px !important;
}
html[lang="ar"] .timeline-dot-vertical,
html[lang="he"] .timeline-dot-vertical,
html[dir="rtl"] .timeline-dot-vertical {
  margin-left: 14px !important;
  margin-right: 30px !important;
}
html[lang="ar"] .timeline-card,
html[lang="he"] .timeline-card,
html[dir="rtl"] .timeline-card {
  flex-direction: row-reverse !important;
  text-align: right !important;
}

/* Fix Nest Hub Max background and card size */
@media (min-width: 1280px) and (max-width: 1366px) and (min-height: 800px) and (max-height: 900px) {
  body {
    background: #F5F5F5 !important;
  }
  .timeline-card {
    transform: scale(0.8) !important; /* iPad cards ~20% larger */ /* reduce card size by 40% */
    transform-origin: top left !important;
  }
}

/* Fix for iPads - scale down cards by 40% */
@media (min-width: 768px) and (max-width: 1024px) {
  .timeline-card {
    transform: scale(0.8) !important; /* iPad cards ~20% larger */
    transform-origin: top left !important;
  }
}

header {
  position: relative;
  top: -20vh !important; /* move header up by ~20% viewport height */
}
body {
  padding-top: 22vh !important; /* ensure scroll space to reach header */
}

/* Nest Hub Max fix: remove white background */
@media (min-width: 1280px) and (max-width: 1366px) and (min-height: 800px) and (max-height: 900px) {
  body {
    background: #F5F5F5 !important;
  }
  .timeline-section {
    background: #F5F5F5 !important;
  }
}